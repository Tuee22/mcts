# =============================================================================
# Docker Environment Configuration for MCTS Project
# =============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env:     cp .env.example .env
# 2. Choose ONE of the three configurations below and uncomment it
# 3. Run: docker compose up --build -d
#
# =============================================================================

# -----------------------------------------------------------------------------
# OPTION 1: CPU Build (AMD64/Intel - Default)
# -----------------------------------------------------------------------------
# Use this for regular x86_64/AMD64 systems without GPU requirements
# 
# COMPOSE_PROFILES=cpu
# BASE_IMAGE=ubuntu:22.04
# PORT=8000

# -----------------------------------------------------------------------------
# OPTION 2: CPU Build (ARM64 - Apple Silicon)
# -----------------------------------------------------------------------------
# Use this for Apple M1/M2/M3 Macs and other ARM64 systems
# 
# COMPOSE_PROFILES=cpu
# BASE_IMAGE=ubuntu:22.04
# PORT=8000

# -----------------------------------------------------------------------------
# OPTION 3: GPU Build (NVIDIA CUDA - AMD64 only)
# -----------------------------------------------------------------------------
# Use this for systems with NVIDIA GPUs and Docker with GPU support
# Requires: nvidia-docker runtime, compatible NVIDIA GPU, AMD64 architecture
#
# COMPOSE_PROFILES=gpu
# BASE_IMAGE=nvidia/cuda:12.6.2-devel-ubuntu22.04
# GPU_COUNT=all
# NVIDIA_VISIBLE_DEVICES=all
# PORT=8000

# =============================================================================
# Usage Examples
# =============================================================================
#
# After copying and configuring .env:
#
# CPU (AMD64):     docker compose up --build -d
# CPU (ARM64):     docker compose up --build -d
# GPU (NVIDIA):    docker compose up --build -d
#
# Access container: docker compose exec mcts bash      # (CPU mode)
# Access container: docker compose exec mcts-gpu bash  # (GPU mode)
# View logs:       docker compose logs mcts           # or mcts-gpu for GPU
# Run tests:       docker compose exec mcts poetry run pytest -q
# GPU check:       docker compose exec mcts-gpu nvidia-smi  # (GPU mode only)
# 
# =============================================================================